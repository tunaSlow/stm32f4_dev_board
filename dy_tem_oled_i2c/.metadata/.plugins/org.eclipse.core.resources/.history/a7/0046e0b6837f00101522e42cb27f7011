/*
 * lcd_control.c
 *
 *  Created on: Aug 23, 2025
 *      Author: tuna
 */


// After RESET + Sleep Out (0x11) + PixelFormat (0x3A=0x55) + Display On (0x29):
void LCD_Test_AllPixels(void) {
    LCD_WriteCmd(0x23); // ALL PIXELS ON
    HAL_Delay(500);
    LCD_WriteCmd(0x22); // ALL PIXELS OFF (normal display)
    HAL_Delay(500);
}

static void set_window(uint16_t x0, uint16_t y0, uint16_t x1, uint16_t y1) {
    LCD_WriteCmd(0x2A); // Column
    LCD_WriteData8(x0 >> 8); LCD_WriteData8(x0 & 0xFF);
    LCD_WriteData8(x1 >> 8); LCD_WriteData8(x1 & 0xFF);
    LCD_WriteCmd(0x2B); // Page
    LCD_WriteData8(y0 >> 8); LCD_WriteData8(y0 & 0xFF);
    LCD_WriteData8(y1 >> 8); LCD_WriteData8(y1 & 0xFF);
}
void LCD_DrawBlock10x10(uint16_t x, uint16_t y, uint16_t color) {
    set_window(x, y, x+9, y+9);
    LCD_WriteCmd(0x2C); // RAMWR
    for (int i=0; i<100; ++i) LCD_WriteData16(color);
}
